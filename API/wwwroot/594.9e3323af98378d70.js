"use strict";(self.webpackChunkClient=self.webpackChunkClient||[]).push([[594],{2594:(Be,j,d)=>{d.r(j),d.d(j,{AdminVehicleModule:()=>$e});var h=d(177),R=d(219),m=d(8498),k=d(7135),e=d(4438),b=d(8712),N=d(5312),P=d(1626);let F=(()=>{class n{constructor(t){this.http=t,this.baseUrl=N.c.apiUrl}createVehicle(t){return this.http.post(this.baseUrl+"vehicles",t)}updateVehicle(t,o){return this.http.put(this.baseUrl+"vehicles/"+o,t)}deleteVehicle(t){return this.http.delete(this.baseUrl+"vehicles/"+t)}uploadImage(t,o){const i=new FormData;return i.append("photo",t,"image.png"),this.http.put(this.baseUrl+"vehicles/"+o+"/photo",i,{reportProgress:!0,observe:"events"})}deleteVehiclePhoto(t,o){return this.http.delete(this.baseUrl+"vehicles/"+o+"/photo/"+t)}setMainPhoto(t,o){return this.http.post(this.baseUrl+"vehicles/"+o+"/photo/"+t,{})}static#e=this.\u0275fac=function(o){return new(o||n)(e.KVO(P.Qq))};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var S=d(7156),G=d(8788),p=d(9417),O=d(8173);const w=["search"],$=()=>["/admin-vehicle/create"],B=()=>["/vehicle-management"],Y=n=>["edit",n];function D(n,s){if(1&n&&(e.j41(0,"option",21),e.EFF(1),e.k0s()),2&n){const t=s.$implicit;e.Y8G("value",t.value),e.R7$(),e.JRh(t.name)}}function X(n,s){if(1&n){const t=e.RV6();e.j41(0,"tr",18)(1,"td"),e.nrm(2,"img",22),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.nI1(11,"currency"),e.k0s(),e.j41(12,"td"),e.EFF(13),e.k0s(),e.j41(14,"td"),e.EFF(15),e.k0s(),e.j41(16,"td"),e.EFF(17),e.k0s(),e.j41(18,"td"),e.EFF(19),e.k0s(),e.j41(20,"td")(21,"button",23),e.EFF(22,"Edit"),e.k0s()(),e.j41(23,"td")(24,"button",24),e.bIt("click",function(){const i=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteVehicle(i.id))}),e.EFF(25,"Delete"),e.k0s()()()}if(2&n){const t=s.$implicit,o=e.XpG();e.Y8G("routerLink","/vehicles/"+t.id),e.R7$(2),e.Y8G("src",t.pictureUrl||"/assets/images/placeholder.png",e.B4B)("alt",t.vehicleName),e.R7$(2),e.JRh(t.brand),e.R7$(2),e.JRh(t.model),e.R7$(2),e.JRh(t.year),e.R7$(2),e.JRh(e.bMT(11,14,t.rentalPrice)),e.R7$(3),e.JRh(t.vehicleType),e.R7$(2),e.JRh(t.fuel),e.R7$(),e.HbH(o.getStatusClass(t.status)),e.R7$(),e.JRh(t.status),e.R7$(2),e.JRh(t.vin),e.R7$(2),e.Y8G("routerLink",e.eq3(16,Y,t.id))}}function A(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",25)(1,"app-pager",26),e.bIt("pageChanged",function(i){e.eBV(t);const l=e.XpG();return e.Njj(l.onPageChanged(i))}),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(),e.Y8G("pageSize",t.vehicleParams.pageSize)("pageNumber",t.vehicleParams.pageNumber)("totalCount",t.totalCount)}}function U(n,s){if(1&n){const t=e.RV6();e.j41(0,"li",33),e.bIt("click",function(){const i=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.onBrandSelected(i.id))}),e.EFF(1),e.k0s()}if(2&n){const t=s.$implicit,o=e.XpG(2);e.AVh("active",t.id===o.selectedBrandId),e.R7$(),e.SpI(" ",t.brandName," ")}}function q(n,s){if(1&n){const t=e.RV6();e.j41(0,"li",33),e.bIt("click",function(){const i=e.eBV(t).$implicit,l=e.XpG(3);return e.Njj(l.onModelSelected(i.id))}),e.EFF(1),e.k0s()}if(2&n){const t=s.$implicit,o=e.XpG(3);e.AVh("active",t.id===o.selectedModelId),e.R7$(),e.SpI(" ",t.modelName," ")}}function z(n,s){if(1&n){const t=e.RV6();e.j41(0,"li",35)(1,"button",33),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3);return e.Njj(i.showAllModels=!0)}),e.EFF(2,"Show More...."),e.k0s()()}}function H(n,s){if(1&n&&(e.j41(0,"ul",30),e.DNE(1,q,2,3,"li",31)(2,z,3,0,"li",34),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.modelsToShow),e.R7$(),e.Y8G("ngIf",!t.showAllModels)}}function J(n,s){if(1&n){const t=e.RV6();e.j41(0,"li",36),e.bIt("click",function(){const i=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.onFuelSelected(i.id))}),e.EFF(1),e.k0s()}if(2&n){const t=s.$implicit,o=e.XpG(2);e.AVh("active",t.id===o.selectedFuelId),e.R7$(),e.SpI(" ",t.fuelName," ")}}function L(n,s){if(1&n){const t=e.RV6();e.j41(0,"li",36),e.bIt("click",function(){const i=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.onStatusSelected(i.id))}),e.EFF(1),e.k0s()}if(2&n){const t=s.$implicit,o=e.XpG(2);e.AVh("active",t.id===o.selectedStatusId),e.R7$(),e.SpI(" ",t.statusName," ")}}function W(n,s){if(1&n){const t=e.RV6();e.j41(0,"li",36),e.bIt("click",function(){const i=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.onVehicleTypeSelected(i.id))}),e.EFF(1),e.k0s()}if(2&n){const t=s.$implicit,o=e.XpG(2);e.AVh("active",t.id===o.selectedVehicleTypeId),e.R7$(),e.SpI(" ",t.vehicleTypeName," ")}}function Q(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",27),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closePopup())}),e.j41(1,"div",28),e.bIt("click",function(i){e.eBV(t);const l=e.XpG();return e.Njj(l.stopPropagation(i))}),e.j41(2,"div",29)(3,"h5",30),e.EFF(4,"Brands"),e.k0s(),e.j41(5,"ul",30),e.DNE(6,U,2,3,"li",31),e.k0s()(),e.j41(7,"div",29)(8,"h5",30),e.EFF(9,"Models"),e.k0s(),e.DNE(10,H,3,2,"ul",30),e.k0s(),e.j41(11,"div",29)(12,"h5",30),e.EFF(13,"Fuels"),e.k0s(),e.j41(14,"ul",30),e.DNE(15,J,2,3,"li",32),e.k0s()(),e.j41(16,"div",29)(17,"h5",30),e.EFF(18,"Statuses"),e.k0s(),e.j41(19,"ul",30),e.DNE(20,L,2,3,"li",32),e.k0s()(),e.j41(21,"div",29)(22,"h5",30),e.EFF(23,"Vehicles Type"),e.k0s(),e.j41(24,"ul",30),e.DNE(25,W,2,3,"li",32),e.k0s()()()()}if(2&n){const t=e.XpG();e.R7$(6),e.Y8G("ngForOf",t.brands),e.R7$(4),e.vxM(10,null!==t.selectedBrandId?10:-1),e.R7$(5),e.Y8G("ngForOf",t.fuels),e.R7$(5),e.Y8G("ngForOf",t.statuses),e.R7$(5),e.Y8G("ngForOf",t.vehiclesType)}}let K=(()=>{class n{constructor(t,o){this.vehicleService=t,this.editVehicleService=o,this.vehicleParams=new k.X,this.sortOption=[{name:"Alphabetical",value:"vehicleName"},{name:"Price: Low To High",value:"priceAsc"},{name:"Price: High To Low",value:"priceDesc"}],this.selectedBrandId=null,this.selectedModelId=null,this.selectedFuelId=null,this.selectedStatusId=null,this.selectedVehicleTypeId=null,this.showAllModels=!1,this.showPopup=!1,this.vehicleParams=this.vehicleService.getVehicleParams()}ngOnInit(){this.getVehicles(),this.getBrands(),this.getModels(),this.getFuels(),this.getStatuses(),this.getVehiclesType()}getVehicles(){this.vehicleService.getVehicles(this.vehicleParams).subscribe({next:t=>{this.vehicles=t.data,this.totalCount=t.count},error:t=>console.log(t)})}onPageChanged(t){const o=this.vehicleService.getVehicleParams();o.pageNumber!==t&&(o.pageNumber=t,this.vehicleService.setVehicleParams(o),this.getVehicles())}deleteVehicle(t){this.editVehicleService.deleteVehicle(t).subscribe(o=>{this.vehicles.splice(this.vehicles.findIndex(i=>i.id===t),1),this.totalCount--})}getStatusClass(t){switch(t.toLowerCase()){case"available":return"available";case"rented":return"rented";case"reserved":return"reserved";default:return""}}getBrands(){this.vehicleService.getBrands().subscribe({next:t=>{this.brands=[{id:0,brandName:"All"},...t],console.log(t)},error:t=>console.log(t)})}getModels(){this.vehicleService.getModels().subscribe({next:t=>this.models=[{id:0,modelName:"All"},...t],error:t=>console.log(t)})}get modelsToShow(){return this.showAllModels?this.models:this.models.slice(0,5)}getFuels(){this.vehicleService.getFuels().subscribe({next:t=>this.fuels=[{id:0,fuelName:"All"},...t],error:t=>console.log(t)})}getStatuses(){this.vehicleService.getStatutes().subscribe({next:t=>this.statuses=[{id:0,statusName:"All"},...t],error:t=>console.log(t)})}getVehiclesType(){this.vehicleService.getVehiclesType().subscribe({next:t=>this.vehiclesType=[{id:0,vehicleTypeName:"All"},...t],error:t=>console.log(t)})}onBrandSelected(t){this.selectedBrandId=t===this.selectedBrandId?null:t,this.vehicleParams.brandId=this.selectedBrandId||0,this.vehicleParams.pageNumber=1,this.selectedBrandId?this.getModelsByBrand(this.selectedBrandId):(this.getModels(),this.selectedModelId=null,this.getVehicles()),this.getVehicles()}getModelsByBrand(t){this.vehicleService.getModelsByBrand(t).subscribe({next:o=>{this.models=[{id:0,modelName:"All"},...o],this.selectedModelId=null},error:o=>console.log(o)})}onModelSelected(t){this.selectedModelId=t===this.selectedModelId?null:t,this.vehicleParams.modelId=this.selectedModelId||0,this.vehicleParams.pageNumber=1,this.getVehicles()}onFuelSelected(t){this.selectedFuelId=t===this.selectedFuelId?null:t,this.vehicleParams.fuelId=this.selectedFuelId||0,this.vehicleParams.pageNumber=1,this.getVehicles()}onStatusSelected(t){this.selectedStatusId=t===this.selectedStatusId?null:t,this.vehicleParams.statusId=this.selectedStatusId||0,this.vehicleParams.pageNumber=1,this.getVehicles()}onVehicleTypeSelected(t){this.selectedVehicleTypeId=t===this.selectedVehicleTypeId?null:t,this.vehicleParams.vehicleTypeId=this.selectedVehicleTypeId||0,this.vehicleParams.pageNumber=1,this.getVehicles()}onSortSelected(t){this.vehicleParams.sort=t.target.value,this.getVehicles()}onSearch(){this.vehicleParams.search=this.searchTerm?.nativeElement.value,this.vehicleParams.pageNumber=1,this.getVehicles()}onReset(){this.searchTerm&&(this.searchTerm.nativeElement.value=""),this.vehicleParams=new k.X,this.getVehicles()}togglePopup(){this.showPopup=!this.showPopup}closePopup(){this.showPopup=!1}stopPropagation(t){t.stopPropagation()}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(b.K),e.rXU(F))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-admin-vehicle"]],viewQuery:function(o,i){if(1&o&&e.GBs(w,5),2&o){let l;e.mGM(l=e.lsd())&&(i.searchTerm=l.first)}},decls:59,vars:10,consts:[["search",""],[1,"content"],[1,"content-cover"],[1,"title"],[1,"actions"],[1,"new-vehicle",3,"routerLink"],[1,"filters"],[1,"filter"],[1,"search"],["type","text","placeholder","Search",3,"keyup.enter"],[1,"sort"],[1,"select"],["id","slct","required","",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"filter","bi","bi-filter",3,"click"],[3,"totalCount","pageSize","pageNumber"],[1,"table-wrapper"],[1,"table","table-hover"],[3,"routerLink"],["class","d-flex justify-content-center",4,"ngIf"],["class","popup-overlay",3,"click",4,"ngIf"],[3,"value"],[1,"img-fluid",2,"max-height","50px",3,"src","alt"],[1,"edit",3,"routerLink"],[1,"delete",3,"click"],[1,"d-flex","justify-content-center"],[3,"pageChanged","pageSize","pageNumber","totalCount"],[1,"popup-overlay",3,"click"],[1,"popup-content",3,"click"],[1,"box"],[1,""],[3,"active","click",4,"ngFor","ngForOf"],["class","",3,"active","click",4,"ngFor","ngForOf"],[3,"click"],["class","load-more",4,"ngIf"],[1,"load-more"],[1,"",3,"click"]],template:function(o,i){if(1&o){const l=e.RV6();e.j41(0,"section",1),e.nrm(1,"app-breadcrumb"),e.j41(2,"div",2)(3,"div",3)(4,"h1"),e.EFF(5,"Vehicles"),e.k0s(),e.j41(6,"div",4)(7,"button",5),e.EFF(8,"New Vehicles"),e.k0s(),e.j41(9,"button",5),e.EFF(10,"Vehicle Management"),e.k0s()()(),e.j41(11,"div",6)(12,"div",7)(13,"div",8)(14,"label"),e.EFF(15,"Search"),e.k0s(),e.j41(16,"input",9,0),e.bIt("keyup.enter",function(){return e.eBV(l),e.Njj(i.onSearch())}),e.k0s()()(),e.j41(18,"div",10)(19,"div",11)(20,"label"),e.EFF(21,"Sort"),e.k0s(),e.j41(22,"select",12),e.bIt("change",function(c){return e.eBV(l),e.Njj(i.onSortSelected(c))}),e.DNE(23,D,2,2,"option",13),e.k0s()(),e.j41(24,"div",4)(25,"button",14),e.bIt("click",function(){return e.eBV(l),e.Njj(i.togglePopup())}),e.EFF(26,"Filter"),e.k0s()()()(),e.nrm(27,"app-paging-header",15),e.j41(28,"div",16)(29,"table",17)(30,"thead")(31,"tr")(32,"th"),e.EFF(33,"Vehicle"),e.k0s(),e.j41(34,"th"),e.EFF(35,"Brand"),e.k0s(),e.j41(36,"th"),e.EFF(37,"Model"),e.k0s(),e.j41(38,"th"),e.EFF(39,"Year"),e.k0s(),e.j41(40,"th"),e.EFF(41,"Rental Price"),e.k0s(),e.j41(42,"th"),e.EFF(43,"Vehicle Type"),e.k0s(),e.j41(44,"th"),e.EFF(45,"Fuel"),e.k0s(),e.j41(46,"th"),e.EFF(47,"Status"),e.k0s(),e.j41(48,"th"),e.EFF(49,"Vin"),e.k0s(),e.j41(50,"th"),e.EFF(51,"Edit"),e.k0s(),e.j41(52,"th"),e.EFF(53,"Delete"),e.k0s()()(),e.j41(54,"tbody"),e.Z7z(55,X,26,18,"tr",18,e.Vm6),e.k0s()()(),e.DNE(57,A,2,3,"div",19),e.k0s()(),e.DNE(58,Q,26,5,"div",20)}2&o&&(e.R7$(7),e.Y8G("routerLink",e.lJ4(8,$)),e.R7$(2),e.Y8G("routerLink",e.lJ4(9,B)),e.R7$(14),e.Y8G("ngForOf",i.sortOption),e.R7$(4),e.Y8G("totalCount",i.totalCount)("pageSize",i.vehicleParams.pageSize)("pageNumber",i.vehicleParams.pageNumber),e.R7$(28),e.Dyx(i.vehicles),e.R7$(2),e.Y8G("ngIf",i.totalCount>0),e.R7$(),e.Y8G("ngIf",i.showPopup))},dependencies:[h.Sq,h.bT,S.B,G.x,p.xH,p.y7,m.Wk,O.D,h.oe],styles:[".content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px}.content[_ngcontent-%COMP%]   .content-cover[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;box-shadow:0 0 10px #0000001a;margin-bottom:20px}.content[_ngcontent-%COMP%]   .content-cover[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:20px}.content[_ngcontent-%COMP%]   .content-cover[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:35px;font-family:montserrat,sans-serif;font-weight:500}.content[_ngcontent-%COMP%]   .content-cover[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:400;border:none;border-radius:5px;padding:5px 12px;margin-left:10px;border:1px solid #959595}.content[_ngcontent-%COMP%]   .content-cover[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button.new-vehicle[_ngcontent-%COMP%]{background-color:#fff}.content[_ngcontent-%COMP%]   .content-cover[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button.new-vehicle[_ngcontent-%COMP%]:hover{background-color:#da5b00;color:#fff;border:none}.content[_ngcontent-%COMP%]   .content-cover[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.content[_ngcontent-%COMP%]   .content-cover[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{display:flex;gap:20px}.content[_ngcontent-%COMP%]   .content-cover[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{display:flex;align-items:center}.content[_ngcontent-%COMP%]   .content-cover[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px;font-size:18px}.content[_ngcontent-%COMP%]   .content-cover[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:280px;padding:8px 10px;border-radius:4px;border:1px solid #e8eaed;font-size:15px}@media (max-width: 430px){.content[_ngcontent-%COMP%]   .content-cover[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:255px}}.content[_ngcontent-%COMP%]   .content-cover[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:400;border:none;border-radius:5px;padding:5px 12px;margin-left:10px;align-items:center;font-size:18px}.content[_ngcontent-%COMP%]   .content-cover[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button.filter[_ngcontent-%COMP%]{color:#000;border:1px solid #959595;background-color:#fff}.content[_ngcontent-%COMP%]   .content-cover[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button.filter[_ngcontent-%COMP%]:hover{color:#fff;background-color:#da5b00;border:none}.content[_ngcontent-%COMP%]   .content-cover[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .sort[_ngcontent-%COMP%]{display:flex}.content[_ngcontent-%COMP%]   .content-cover[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .sort[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.content[_ngcontent-%COMP%]   .content-cover[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .sort[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:18px}.content[_ngcontent-%COMP%]   .content-cover[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .sort[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{-webkit-appearance:none;padding:7px 5px;border-radius:5px;border:1px solid #959595;background:#fff;font-size:16px;cursor:pointer;transition:all .15s ease}.content[_ngcontent-%COMP%]   .content-cover[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .sort[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:400;border:none;border-radius:5px;padding:5px 12px;margin-left:10px;align-items:center;font-size:18px}.content[_ngcontent-%COMP%]   .content-cover[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .sort[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button.filter[_ngcontent-%COMP%]{color:#000;border:1px solid #959595;background-color:#fff}.content[_ngcontent-%COMP%]   .content-cover[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .sort[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button.filter[_ngcontent-%COMP%]:hover{color:#fff;background-color:#da5b00;border:none}@media (max-width: 825px){.content[_ngcontent-%COMP%]   .content-cover[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:15px}}.content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{margin-top:10px;overflow-x:auto}.content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0;min-width:max-content}.content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;font-weight:500}.content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#f3f3f3;cursor:pointer;height:50px}.content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:40px;object-fit:contain}.content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:400;overflow:hidden;vertical-align:middle}.content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.available[_ngcontent-%COMP%]{color:green}.content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.rented[_ngcontent-%COMP%]{color:red}.content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.reserved[_ngcontent-%COMP%]{color:gold}.content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #959595;border-radius:8px;font-weight:400}.content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%]:hover{background-color:#4480df;color:#fff;border:none}.content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.delete[_ngcontent-%COMP%]:hover{background-color:#e42e2e;color:#fff;border:none}.popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:2}.popup-overlay[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;max-width:80%;max-height:80%;overflow-y:auto;border-radius:10px;box-shadow:0 0 10px #0000001a;display:flex;gap:30px}.popup-overlay[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{margin-bottom:20px}.popup-overlay[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:10px}.popup-overlay[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.popup-overlay[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:8px;padding:8px;cursor:pointer}.popup-overlay[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;border-radius:6px}.popup-overlay[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#e29b68;border-radius:6px;color:#fff}.popup-overlay[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:-8px;margin-top:-6px;background-color:transparent;font-size:16px;border:none;font-weight:500;padding-top:6px}"]})}return n})();class x{constructor(s){this.vehicleName="",this.year=0,this.vin="",this.passengers=0,this.transmission="",this.doors=0,this.color="",this.rentalPrice=0,this.fuelConsumption=0,this.pictureUrl="",Object.assign(this,s)}}var Z=d(7468),E=d(6850),ee=d(4210);const g=n=>({"is-invalid":n});function te(n,s){1&n&&(e.j41(0,"div"),e.EFF(1," Vehicle Name is required "),e.k0s())}function ne(n,s){if(1&n&&(e.j41(0,"div",50),e.DNE(1,te,2,0,"div",51),e.k0s()),2&n){e.XpG();const t=e.sdS(9);e.R7$(),e.Y8G("ngIf",null==t.errors?null:t.errors.required)}}function oe(n,s){1&n&&(e.j41(0,"div"),e.EFF(1," Vehicle rental price is required "),e.k0s())}function ie(n,s){1&n&&(e.j41(0,"div"),e.EFF(1," Vehicle rental price needs to be decimal value "),e.k0s())}function ce(n,s){1&n&&(e.j41(0,"div"),e.EFF(1," Vehicle rental price must be greater than zero "),e.k0s())}function le(n,s){if(1&n&&(e.j41(0,"div",50),e.DNE(1,oe,2,0,"div",51)(2,ie,2,0,"div",51)(3,ce,2,0,"div",51),e.k0s()),2&n){e.XpG();const t=e.sdS(15);e.R7$(),e.Y8G("ngIf",null==t.errors?null:t.errors.required),e.R7$(),e.Y8G("ngIf",null==t.errors?null:t.errors.pattern),e.R7$(),e.Y8G("ngIf",null==t.errors?null:t.errors.min)}}function se(n,s){1&n&&(e.j41(0,"div"),e.EFF(1," Vehicle year is required "),e.k0s())}function re(n,s){if(1&n&&(e.j41(0,"div",50),e.DNE(1,se,2,0,"div",51),e.k0s()),2&n){e.XpG();const t=e.sdS(22);e.R7$(),e.Y8G("ngIf",null==t.errors?null:t.errors.required)}}function de(n,s){1&n&&(e.j41(0,"div"),e.EFF(1," Vehicle vin is required "),e.k0s())}function ae(n,s){if(1&n&&(e.j41(0,"div",50),e.DNE(1,de,2,0,"div",51),e.k0s()),2&n){e.XpG();const t=e.sdS(28);e.R7$(),e.Y8G("ngIf",null==t.errors?null:t.errors.required)}}function pe(n,s){1&n&&(e.j41(0,"div"),e.EFF(1," Vehicle transmission is required "),e.k0s())}function he(n,s){if(1&n&&(e.j41(0,"div",50),e.DNE(1,pe,2,0,"div",51),e.k0s()),2&n){e.XpG();const t=e.sdS(34);e.R7$(),e.Y8G("ngIf",null==t.errors?null:t.errors.required)}}function ge(n,s){1&n&&(e.j41(0,"div"),e.EFF(1," Vehicle doors is required "),e.k0s())}function ue(n,s){if(1&n&&(e.j41(0,"div",50),e.DNE(1,ge,2,0,"div",51),e.k0s()),2&n){e.XpG();const t=e.sdS(41);e.R7$(),e.Y8G("ngIf",null==t.errors?null:t.errors.required)}}function me(n,s){1&n&&(e.j41(0,"div"),e.EFF(1," Vehicle doors is required "),e.k0s())}function _e(n,s){if(1&n&&(e.j41(0,"div",50),e.DNE(1,me,2,0,"div",51),e.k0s()),2&n){e.XpG();const t=e.sdS(47);e.R7$(),e.Y8G("ngIf",null==t.errors?null:t.errors.required)}}function ve(n,s){1&n&&(e.j41(0,"div"),e.EFF(1," Vehicle color is required "),e.k0s())}function fe(n,s){if(1&n&&(e.j41(0,"div",50),e.DNE(1,ve,2,0,"div",51),e.k0s()),2&n){e.XpG();const t=e.sdS(53);e.R7$(),e.Y8G("ngIf",null==t.errors?null:t.errors.required)}}function Ce(n,s){1&n&&(e.j41(0,"div"),e.EFF(1," Vehicle fuel consumption is required "),e.k0s())}function Me(n,s){if(1&n&&(e.j41(0,"div",50),e.DNE(1,Ce,2,0,"div",51),e.k0s()),2&n){e.XpG();const t=e.sdS(59);e.R7$(),e.Y8G("ngIf",null==t.errors?null:t.errors.required)}}function be(n,s){if(1&n&&(e.j41(0,"option",52),e.EFF(1),e.k0s()),2&n){const t=s.$implicit,o=e.XpG();e.Y8G("selected",o.vehicle.brandId===t.id)("ngValue",t.id),e.R7$(),e.SpI(" ",t.brandName," ")}}function Pe(n,s){if(1&n&&(e.j41(0,"option",52),e.EFF(1),e.k0s()),2&n){const t=s.$implicit,o=e.XpG();e.Y8G("selected",o.vehicle.modelId===t.id)("ngValue",t.id),e.R7$(),e.SpI(" ",t.modelName," ")}}function Fe(n,s){if(1&n&&(e.j41(0,"option",52),e.EFF(1),e.k0s()),2&n){const t=s.$implicit,o=e.XpG();e.Y8G("selected",o.vehicle.statusId===t.id)("ngValue",t.id),e.R7$(),e.SpI(" ",t.statusName,"")}}function Oe(n,s){if(1&n&&(e.j41(0,"option",52),e.EFF(1),e.k0s()),2&n){const t=s.$implicit,o=e.XpG();e.Y8G("selected",o.vehicle.fuelId===t.id)("ngValue",t.id),e.R7$(),e.SpI(" ",t.fuelName,"")}}function Ve(n,s){if(1&n&&(e.j41(0,"option",52),e.EFF(1),e.k0s()),2&n){const t=s.$implicit,o=e.XpG();e.Y8G("selected",o.vehicle.vehicleTypeId===t.id)("ngValue",t.id),e.R7$(),e.JRh(t.vehicleTypeName)}}let je=(()=>{class n{constructor(t,o,i,l){this.editVehicleService=t,this.vehicleService=o,this.route=i,this.router=l,this.vehicle=new x}ngOnInit(){}updatePrice(t){this.vehicle.rentalPrice=t}loadModelsByBrand(t){t?this.vehicleService.getModelsByBrand(t).subscribe(o=>{this.models=o}):this.models=[]}onSubmit(t){const o=this.route.snapshot.paramMap.get("id");if("edit"===this.route.snapshot.url[0].path){const i={...this.vehicle,...t,rentalPrice:+t.rentalPrice};this.editVehicleService.updateVehicle(i,+o).subscribe(l=>{this.router.navigate(["/admin-vehicle"])})}else{const i={...t,rentalPrice:+t.rentalPrice};this.editVehicleService.createVehicle(i).subscribe(l=>{this.router.navigate(["/admin-vehicle"])})}}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(F),e.rXU(b.K),e.rXU(m.nX),e.rXU(m.Ix))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-edit-vehicle-form"]],inputs:{vehicle:"vehicle",brands:"brands",models:"models",fuels:"fuels",statuses:"statuses",vehiclesType:"vehiclesType"},decls:91,vars:61,consts:[["vehicleForm","ngForm"],["vehicleName","ngModel"],["rentalPrice","ngModel"],["year","ngModel"],["vin","ngModel"],["transmission","ngModel"],["door","ngModel"],["passengers","ngModel"],["color","ngModel"],["fuelConsumption","ngModel"],[3,"ngSubmit"],[1,"form-row"],[1,"boxes"],[1,"box","section-1"],[1,"form-group","col-md-6"],["for","vehicleName"],["type","text","name","vehicleName","id","vehicleName","placeholder","Vehicle Name","required","",1,"form-control",3,"ngModelChange","ngClass","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","rentalPrice"],["type","text","required","","id","rentalPrice","placeholder","Price","currencyMask","","name","rentalPrice","pattern","^\\$?([0-9]{1,3},([0-9]{3},)*[0-9]{3}|[0-9]+)(\\.[0-9][0-9])?$",1,"form-control",3,"ngModelChange","ngClass","min","ngModel"],["for","year"],["type","number","name","year","id","year","placeholder","Year","required","",1,"form-control",3,"ngModelChange","ngClass","ngModel"],["for","vin"],["type","text","name","vin","id","vin","placeholder","VIN","required","",1,"form-control",3,"ngModelChange","ngClass","ngModel"],["for","transmission"],["type","text","name","transmission","id","transmission","placeholder","Transmission","required","",1,"form-control",3,"ngModelChange","ngClass","ngModel"],[1,"box","section-2"],["for","door"],["type","number","name","door","id","door","placeholder","doors","required","",1,"form-control",3,"ngModelChange","ngClass","ngModel"],["for","passengers"],["type","number","name","passengers","id","passengers","placeholder","passengers","required","",1,"form-control",3,"ngModelChange","ngClass","ngModel"],["for","color"],["type","text","name","color","id","color","placeholder","color","required","",1,"form-control",3,"ngModelChange","ngClass","ngModel"],["for","fuelConsumption"],["type","number","name","fuelConsumption","id","fuelConsumption","placeholder","Fuel Consumption MPG","required","",1,"form-control",3,"ngModelChange","ngClass","ngModel"],[1,"box","section-3"],[1,"form-group"],["for","brand"],["name","brandId","id","brand","required","",1,"form-control",3,"ngModelChange","change","ngModel"],[3,"selected","ngValue",4,"ngFor","ngForOf"],["for","model"],["name","modelId","id","model","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["value","","disabled","","selected",""],["for","status"],["name","statusId","id","status","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fuel"],["name","fuelId","id","fuel","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","vehicleType"],["name","vehicleTypeId","id","vehicleType","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"button",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"],[3,"selected","ngValue"]],template:function(o,i){if(1&o){const l=e.RV6();e.j41(0,"form",10,0),e.bIt("ngSubmit",function(){e.eBV(l);const c=e.sdS(1);return e.Njj(i.onSubmit(c.valid&&c.value))}),e.j41(2,"div",11)(3,"div",12)(4,"div",13)(5,"div",14)(6,"label",15),e.EFF(7,"Vehicle Name"),e.k0s(),e.j41(8,"input",16,1),e.mxI("ngModelChange",function(c){return e.eBV(l),e.DH7(i.vehicle.vehicleName,c)||(i.vehicle.vehicleName=c),e.Njj(c)}),e.k0s(),e.DNE(10,ne,2,1,"div",17),e.k0s(),e.j41(11,"div",14)(12,"label",18),e.EFF(13,"Price"),e.k0s(),e.j41(14,"input",19,2),e.nI1(16,"number"),e.bIt("ngModelChange",function(c){return e.eBV(l),e.Njj(i.updatePrice(+c))}),e.k0s(),e.DNE(17,le,4,3,"div",17),e.k0s(),e.j41(18,"div",14)(19,"label",20),e.EFF(20,"Year"),e.k0s(),e.j41(21,"input",21,3),e.mxI("ngModelChange",function(c){return e.eBV(l),e.DH7(i.vehicle.year,c)||(i.vehicle.year=c),e.Njj(c)}),e.k0s(),e.DNE(23,re,2,1,"div",17),e.k0s(),e.j41(24,"div",14)(25,"label",22),e.EFF(26,"VIN"),e.k0s(),e.j41(27,"input",23,4),e.mxI("ngModelChange",function(c){return e.eBV(l),e.DH7(i.vehicle.vin,c)||(i.vehicle.vin=c),e.Njj(c)}),e.k0s(),e.DNE(29,ae,2,1,"div",17),e.k0s(),e.j41(30,"div",14)(31,"label",24),e.EFF(32,"Transmission"),e.k0s(),e.j41(33,"input",25,5),e.mxI("ngModelChange",function(c){return e.eBV(l),e.DH7(i.vehicle.transmission,c)||(i.vehicle.transmission=c),e.Njj(c)}),e.k0s(),e.DNE(35,he,2,1,"div",17),e.k0s()(),e.j41(36,"div",26)(37,"div",14)(38,"label",27),e.EFF(39,"Doors"),e.k0s(),e.j41(40,"input",28,6),e.mxI("ngModelChange",function(c){return e.eBV(l),e.DH7(i.vehicle.doors,c)||(i.vehicle.doors=c),e.Njj(c)}),e.k0s(),e.DNE(42,ue,2,1,"div",17),e.k0s(),e.j41(43,"div",14)(44,"label",29),e.EFF(45,"Passengers"),e.k0s(),e.j41(46,"input",30,7),e.mxI("ngModelChange",function(c){return e.eBV(l),e.DH7(i.vehicle.passengers,c)||(i.vehicle.passengers=c),e.Njj(c)}),e.k0s(),e.DNE(48,_e,2,1,"div",17),e.k0s(),e.j41(49,"div",14)(50,"label",31),e.EFF(51,"Color"),e.k0s(),e.j41(52,"input",32,8),e.mxI("ngModelChange",function(c){return e.eBV(l),e.DH7(i.vehicle.color,c)||(i.vehicle.color=c),e.Njj(c)}),e.k0s(),e.DNE(54,fe,2,1,"div",17),e.k0s(),e.j41(55,"div",14)(56,"label",33),e.EFF(57,"Consumption"),e.k0s(),e.j41(58,"input",34,9),e.mxI("ngModelChange",function(c){return e.eBV(l),e.DH7(i.vehicle.fuelConsumption,c)||(i.vehicle.fuelConsumption=c),e.Njj(c)}),e.k0s(),e.DNE(60,Me,2,1,"div",17),e.k0s()()(),e.j41(61,"div",35)(62,"div",36)(63,"label",37),e.EFF(64,"Brand"),e.k0s(),e.j41(65,"select",38),e.mxI("ngModelChange",function(c){return e.eBV(l),e.DH7(i.vehicle.brandId,c)||(i.vehicle.brandId=c),e.Njj(c)}),e.bIt("change",function(){return e.eBV(l),e.Njj(i.loadModelsByBrand(i.vehicle.brandId))}),e.DNE(66,be,2,3,"option",39),e.k0s()(),e.j41(67,"div",36)(68,"label",40),e.EFF(69,"Model"),e.k0s(),e.j41(70,"select",41),e.mxI("ngModelChange",function(c){return e.eBV(l),e.DH7(i.vehicle.modelId,c)||(i.vehicle.modelId=c),e.Njj(c)}),e.j41(71,"option",42),e.EFF(72,"Select Model"),e.k0s(),e.DNE(73,Pe,2,3,"option",39),e.k0s()(),e.j41(74,"div",36)(75,"label",43),e.EFF(76,"Status"),e.k0s(),e.j41(77,"select",44),e.mxI("ngModelChange",function(c){return e.eBV(l),e.DH7(i.vehicle.statusId,c)||(i.vehicle.statusId=c),e.Njj(c)}),e.DNE(78,Fe,2,3,"option",39),e.k0s()(),e.j41(79,"div",36)(80,"label",45),e.EFF(81,"Fuel"),e.k0s(),e.j41(82,"select",46),e.mxI("ngModelChange",function(c){return e.eBV(l),e.DH7(i.vehicle.fuelId,c)||(i.vehicle.fuelId=c),e.Njj(c)}),e.DNE(83,Oe,2,3,"option",39),e.k0s()(),e.j41(84,"div",36)(85,"label",47),e.EFF(86,"Vehicle Type"),e.k0s(),e.j41(87,"select",48),e.mxI("ngModelChange",function(c){return e.eBV(l),e.DH7(i.vehicle.vehicleTypeId,c)||(i.vehicle.vehicleTypeId=c),e.Njj(c)}),e.DNE(88,Ve,2,3,"option",39),e.k0s()()()(),e.j41(89,"button",49),e.EFF(90,"Submit"),e.k0s()()}if(2&o){const l=e.sdS(1),r=e.sdS(9),c=e.sdS(15),u=e.sdS(22),a=e.sdS(28),_=e.sdS(34),v=e.sdS(41),f=e.sdS(47),C=e.sdS(53),M=e.sdS(59);e.R7$(8),e.Y8G("ngClass",e.eq3(43,g,r.invalid&&(r.dirty||r.touched))),e.R50("ngModel",i.vehicle.vehicleName),e.R7$(2),e.Y8G("ngIf",r.invalid&&(r.dirty||r.touched)),e.R7$(4),e.Y8G("ngClass",e.eq3(45,g,c.invalid&&(c.dirty||c.touched)))("min",.01)("ngModel",e.i5U(16,40,+i.vehicle.rentalPrice,"1.2-2")),e.R7$(3),e.Y8G("ngIf",c.invalid&&(c.dirty||c.touched)),e.R7$(4),e.Y8G("ngClass",e.eq3(47,g,u.invalid&&(u.dirty||u.touched))),e.R50("ngModel",i.vehicle.year),e.R7$(2),e.Y8G("ngIf",u.invalid&&(u.dirty||u.touched)),e.R7$(4),e.Y8G("ngClass",e.eq3(49,g,a.invalid&&(a.dirty||a.touched))),e.R50("ngModel",i.vehicle.vin),e.R7$(2),e.Y8G("ngIf",a.invalid&&(a.dirty||a.touched)),e.R7$(4),e.Y8G("ngClass",e.eq3(51,g,_.invalid&&(_.dirty||_.touched))),e.R50("ngModel",i.vehicle.transmission),e.R7$(2),e.Y8G("ngIf",_.invalid&&(_.dirty||_.touched)),e.R7$(5),e.Y8G("ngClass",e.eq3(53,g,v.invalid&&(v.dirty||v.touched))),e.R50("ngModel",i.vehicle.doors),e.R7$(2),e.Y8G("ngIf",v.invalid&&(v.dirty||v.touched)),e.R7$(4),e.Y8G("ngClass",e.eq3(55,g,f.invalid&&(f.dirty||f.touched))),e.R50("ngModel",i.vehicle.passengers),e.R7$(2),e.Y8G("ngIf",f.invalid&&(f.dirty||f.touched)),e.R7$(4),e.Y8G("ngClass",e.eq3(57,g,C.invalid&&(C.dirty||C.touched))),e.R50("ngModel",i.vehicle.color),e.R7$(2),e.Y8G("ngIf",C.invalid&&(C.dirty||C.touched)),e.R7$(4),e.Y8G("ngClass",e.eq3(59,g,M.invalid&&(M.dirty||M.touched))),e.R50("ngModel",i.vehicle.fuelConsumption),e.R7$(2),e.Y8G("ngIf",M.invalid&&(M.dirty||M.touched)),e.R7$(5),e.R50("ngModel",i.vehicle.brandId),e.R7$(),e.Y8G("ngForOf",i.brands),e.R7$(4),e.R50("ngModel",i.vehicle.modelId),e.Y8G("disabled",!i.vehicle.brandId),e.R7$(3),e.Y8G("ngForOf",i.models),e.R7$(4),e.R50("ngModel",i.vehicle.statusId),e.R7$(),e.Y8G("ngForOf",i.statuses),e.R7$(4),e.R50("ngModel",i.vehicle.fuelId),e.R7$(),e.Y8G("ngForOf",i.fuels),e.R7$(4),e.R50("ngModel",i.vehicle.vehicleTypeId),e.R7$(),e.Y8G("ngForOf",i.vehiclesType),e.R7$(),e.Y8G("disabled",!l.valid)}},dependencies:[h.YU,h.Sq,h.bT,p.qT,p.xH,p.y7,p.me,p.Q0,p.wz,p.BC,p.cb,p.YS,p.R_,ee.Jf,p.vS,p.cV,h.QX],styles:[".form-row[_ngcontent-%COMP%]{margin-top:30px}.form-row[_ngcontent-%COMP%]   .boxes[_ngcontent-%COMP%]{display:flex;gap:50px}.form-row[_ngcontent-%COMP%]   .section-3[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:5px;margin-top:30px}@media (max-width: 1200px){.form-row[_ngcontent-%COMP%]   .section-3[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:5px}}@media (max-width: 990px){.form-row[_ngcontent-%COMP%]   .section-3[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:5px}}@media (max-width: 780px){.form-row[_ngcontent-%COMP%]   .section-3[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:15em;margin-top:3px;margin-bottom:10px}.button[_ngcontent-%COMP%]{margin-top:30px;background-color:#5bc964;border:none;padding:8px 30px;border-radius:8px;color:#fff;cursor:pointer;transition:.2s}.button[_ngcontent-%COMP%]:hover{background-color:#55b45d}"]})}return n})();var ke=d(5794),y=d(6156),I=d(8696);function xe(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",1)(1,"div",6)(2,"h5"),e.EFF(3,"Preview & Upload"),e.k0s(),e.nrm(4,"img",7),e.j41(5,"button",8),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onUpload())}),e.EFF(6,"Upload Image"),e.k0s()()()}if(2&n){const t=e.XpG();e.R7$(4),e.Y8G("src",t.croppedImage,e.B4B)}}let Ee=(()=>{class n{constructor(){this.uploadImageEvent=new e.bkB,this.addFile=new e.bkB,this.files=[],this.croppedImage=""}ngOnInit(){}onSelect(t){this.files=[],this.files.push(...t.addedFiles),this.fileChangeEvent(this.files[0])}onUpload(){console.log((0,y.Z)(this.croppedImage)),this.addFile.emit((0,y.Z)(this.croppedImage))}fileChangeEvent(t){const o=new FileReader;o.onload=i=>{this.croppedImage=i.target.result},o.readAsDataURL(t)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-photo-widget"]],outputs:{uploadImageEvent:"uploadImageEvent",addFile:"addFile"},decls:9,vars:1,consts:[[1,"container"],[1,"content"],[1,"drop"],["ngx-dropzone","",1,"custom-dropzone",3,"change"],[1,"fa","fa-upload","fa-4x"],["class","content",4,"ngIf"],[1,"preview"],["width","600","height","250",1,"img-fluid",3,"src"],[1,"btn-block","btn-primary",3,"click"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.bIt("change",function(r){return i.onSelect(r)}),e.j41(4,"ngx-dropzone-label"),e.nrm(5,"i",4),e.j41(6,"h5"),e.EFF(7,"Drop image here"),e.k0s()()()()(),e.DNE(8,xe,7,1,"div",5),e.k0s()),2&o&&(e.R7$(8),e.Y8G("ngIf",i.files.length>0))},dependencies:[h.bT,I.s3,I.Gt],styles:[".custom-dropzone[_ngcontent-%COMP%]{border:3px dashed #eee;border-radius:5px;padding-top:30px;text-align:center;height:200px}.custom-dropzone.ngx-dz-hovered[_ngcontent-%COMP%]{border:3px solid green}.preview[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;margin-top:30px}.preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:30px;background-color:#50ad57;border:none;padding:8px 30px;border-radius:8px;color:#fff;cursor:pointer;transition:.2s}.preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#428c48}"]})}return n})();var V=d(5596);function ye(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",7)(1,"mat-card",8)(2,"mat-card-content"),e.nrm(3,"img",9),e.k0s(),e.j41(4,"mat-card-actions")(5,"button",10),e.bIt("click",function(){const i=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.setMainPhoto(i.id))}),e.EFF(6,"Set Main "),e.k0s(),e.j41(7,"button",11),e.bIt("click",function(){const i=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.deletePhoto(i.id))}),e.nrm(8,"i",12),e.k0s()()()()}if(2&n){const t=s.$implicit;e.R7$(3),e.FS9("src",t.pictureUrl,e.B4B),e.FS9("alt",t.fileName),e.R7$(2),e.HbH(t.isMain?"btn btn-success":"btn btn-outline-success"),e.Y8G("disabled",t.isMain),e.R7$(2),e.Y8G("disabled",t.isMain)}}function Ie(n,s){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"div",3)(2,"h3"),e.EFF(3,"Vehicle Photos"),e.k0s(),e.j41(4,"button",4),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.addPhotoModeToggle())}),e.EFF(5," Add New Photo "),e.k0s()(),e.j41(6,"div",5),e.DNE(7,ye,9,7,"div",6),e.k0s(),e.bVm()}if(2&n){const t=e.XpG();e.R7$(7),e.Y8G("ngForOf",null==t.vehicle?null:t.vehicle.photos)}}function Te(n,s){if(1&n&&(e.j41(0,"div",16)(1,"div",17),e.EFF(2),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(),e.xc7("width",t.progress,"%"),e.R7$(),e.SpI(" ",t.progress,"% ")}}function Re(n,s){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"div",3)(2,"h3"),e.EFF(3,"Add new vehicle image"),e.k0s(),e.j41(4,"button",13),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.addPhotoModeToggle())}),e.EFF(5,"Cancel"),e.k0s()(),e.DNE(6,Te,3,3,"div",14),e.j41(7,"app-photo-widget",15),e.bIt("addFile",function(i){e.eBV(t);const l=e.XpG();return e.Njj(l.uploadFile(i))}),e.k0s(),e.bVm()}if(2&n){const t=e.XpG();e.R7$(6),e.Y8G("ngIf",t.progress>0)}}let Ne=(()=>{class n{constructor(t,o){this.adminVehicleService=t,this.toast=o,this.progress=0,this.addPhotoMode=!1}addPhotoModeToggle(){this.addPhotoMode=!this.addPhotoMode}ngOnInit(){}uploadFile(t){this.adminVehicleService.uploadImage(t,this.vehicle.id).subscribe(o=>{switch(o.type){case P.hv.UploadProgress:this.progress=Math.round(o.loaded/o.total*100);break;case P.hv.Response:this.vehicle=o.body,setTimeout(()=>{this.progress=0,this.addPhotoMode=!1},1500)}},o=>{this.toast.error(o.errors?o.errors[0]:"Problem uploading image"),this.progress=0})}deletePhoto(t){this.adminVehicleService.deleteVehiclePhoto(t,this.vehicle.id).subscribe(()=>{const o=this.vehicle.photos.findIndex(i=>i.id===t);this.vehicle.photos.splice(o,1)},o=>{this.toast.error("Problem deleting photo"),console.log(o)})}setMainPhoto(t){this.adminVehicleService.setMainPhoto(t,this.vehicle.id).subscribe(o=>{this.vehicle=o})}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(F),e.rXU(ke.tw))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-edit-vehicle-photos"]],inputs:{vehicle:"vehicle"},decls:4,vars:2,consts:[[1,"py-5"],[1,"container"],[4,"ngIf"],[1,"d-flex","justify-content-between","mb-3"],[1,"add",3,"click"],[1,"content"],["class","pictures",4,"ngFor","ngForOf"],[1,"pictures"],[1,"picture-card"],["width","100%","height","180",1,"",3,"src","alt"],["type","button",2,"width","50%",3,"click","disabled"],["type","button",1,"btn","btn-outline-danger",2,"width","50%",3,"click","disabled"],[1,"fa","fa-trash"],[1,"btn","btn-outline-secondary",3,"click"],["class","progress form-group",4,"ngIf"],[3,"addFile"],[1,"progress","form-group"],["role","progressbar",1,"progress-bar","progress-bar-striped","bg-success"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,Ie,8,1,"ng-container",2)(3,Re,8,1,"ng-container",2),e.k0s()()),2&o&&(e.R7$(2),e.Y8G("ngIf",!i.addPhotoMode),e.R7$(),e.Y8G("ngIf",i.addPhotoMode))},dependencies:[h.Sq,h.bT,Ee,V.RN,V.YY,V.m2],styles:[".add[_ngcontent-%COMP%]{margin-top:30px;background-color:#50ad57;border:none;padding:8px 30px;border-radius:8px;color:#fff;cursor:pointer;transition:.2s}.add[_ngcontent-%COMP%]:hover{background-color:#428c48}.picture-card[_ngcontent-%COMP%]{margin-top:20px;max-width:350px}@media (max-width: 1000px){.picture-card[_ngcontent-%COMP%]{max-width:400px}}.content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}@media (max-width: 1200px){.content[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 1000px){.content[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}.content[_ngcontent-%COMP%]   .pictures[_ngcontent-%COMP%]{display:grid;justify-content:center}.content[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{gap:10px}"]})}return n})(),T=(()=>{class n{constructor(t,o){this.vehicleService=t,this.route=o,this.vehicleFormValues=new x}ngOnInit(){const t=this.getBrands(),o=this.getModels(),i=this.getFuels(),l=this.getStatuses(),r=this.getVehiclesType();(0,Z.p)([o,t,i,l,r]).subscribe(c=>{this.models=c[0],this.brands=c[1],this.fuels=c[2],this.statuses=c[3],this.vehiclesType=c[4]},c=>{console.log(c)},()=>{"edit"===this.route.snapshot.url[0].path&&this.loadVehicle()})}updatePrice(t){this.vehicle.rentalPrice=t}loadVehicle(){const t=this.route.snapshot.paramMap.get("id");this.vehicleService.getVehicle(+t).subscribe(o=>{const i=this.brands&&this.brands.find(a=>a.brandName===o.brand)?.id,l=this.models&&this.models.find(a=>a.modelName===o.model)?.id,r=this.fuels&&this.fuels.find(a=>a.fuelName===o.fuel)?.id,c=this.statuses&&this.statuses.find(a=>a.statusName===o.status)?.id,u=this.vehiclesType&&this.vehiclesType.find(a=>a.vehicleTypeName===o.vehicleType)?.id;this.vehicle=o,this.vehicleFormValues={...o,brandId:i,modelId:l,fuelId:r,statusId:c,vehicleTypeId:u}})}getBrands(){return this.vehicleService.getBrands()}getModels(){return this.vehicleService.getModels()}getFuels(){return this.vehicleService.getFuels()}getStatuses(){return this.vehicleService.getStatutes()}getVehiclesType(){return this.vehicleService.getVehiclesType()}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(b.K),e.rXU(m.nX))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-edit-vehicle"]],decls:10,vars:7,consts:[[1,"container"],[1,"vehicle-edit"],[1,"tab-panel"],["mat-stretch-tabs","false","mat-align-tabs","start"],["label","Edit Vehicle Info"],[1,"vehicle-info"],[3,"vehicle","brands","models","fuels","statuses","vehiclesType"],["label","Edit Photos"],[3,"vehicle"]],template:function(o,i){1&o&&(e.j41(0,"section",0),e.nrm(1,"app-breadcrumb"),e.j41(2,"div",1)(3,"div",2)(4,"mat-tab-group",3)(5,"mat-tab",4)(6,"div",5),e.nrm(7,"app-edit-vehicle-form",6),e.k0s()(),e.j41(8,"mat-tab",7),e.nrm(9,"app-edit-vehicle-photos",8),e.k0s()()()()()),2&o&&(e.R7$(7),e.Y8G("vehicle",i.vehicleFormValues)("brands",i.brands)("models",i.models)("fuels",i.fuels)("statuses",i.statuses)("vehiclesType",i.vehiclesType),e.R7$(2),e.Y8G("vehicle",i.vehicle))},dependencies:[E.mq,E.T8,O.D,je,Ne],styles:["section[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column}section[_ngcontent-%COMP%]   app-breadcrumb-admin[_ngcontent-%COMP%]{margin:5px 0}.vehicle-edit[_ngcontent-%COMP%]{padding:50px;border:1px solid #ddd;border-radius:8px;box-shadow:0 2px 4px #0000001a;background-color:#fff;margin:0 0 30px}.vehicle-edit[_ngcontent-%COMP%]   .vehicle-info[_ngcontent-%COMP%]{margin-top:10px}"]})}return n})();const Se=[{path:"",component:K},{path:"create",component:T,data:{breadcrumb:"Create"}},{path:"edit/:id",component:T,data:{breadcrumb:"Edit"}}];let Ge=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({imports:[m.iI.forChild(Se),m.iI]})}return n})();var we=d(8239);let $e=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({imports:[h.MD,R.G,Ge,we.G,O.D]})}return n})()}}]);